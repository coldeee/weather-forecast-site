# Сервис для получения данных о погоде для городов

## Описание проекта

Этот веб-сервис позволяет пользователям получать прогноз погоды для заданного маршрута, определяя начальную и конечную точки. Сервис использует **AccuWeather API** для получения актуальных данных о погоде и оценивает погодные условия на основе заданных критериев. Если погодные условия считаются неблагоприятными, пользователю выводится соответствующее уведомление.

## Основные возможности

- Ввод начальной и конечной точек маршрута (названия городов).
- Получение прогноза погоды для обоих местоположений.
- Оценка погодных условий на маршруте и вывод результата.
- Обработка ошибок и вывод понятных сообщений пользователю.
- Удобный и интуитивно понятный веб-интерфейс.

## Структура проекта

```
├── app.py
├── requirements.txt
├── settings.json
├── utils
│   ├── get_info.py
│   ├── weather_checker.py
│   └── file_reader.py
├── templates
│   ├── index.html
│   └── result.html
└── static
    ├── styles.css
    └── js
        └── background.js
```


### Описание файлов и директорий

- **app.py**: Основной файл приложения Flask, отвечающий за маршрутизацию и обработку запросов.
- **settings.json**: Файл конфигурации, содержащий API-ключ для доступа к AccuWeather API.
- **requirements.txt**: Список Python-библиотек, необходимых для запуска проекта.
- **weather_data.json**: Файл для хранения полученных данных о погоде (обновляется при каждом запросе).
- **utils/**: Папка с вспомогательными модулями.
  - `get_info.py`: Модуль для получения информации о локациях и погоде.
  - `weather_checker.py`: Модуль для оценки погодных условий.
  - `file_reader.py`: Модуль для сохранения данных о погоде в JSON-файл.
- **templates/**: Папка с HTML-шаблонами.
  - `index.html`: Главная страница с формой ввода маршрута.
  - `result.html`: Страница с результатами оценки погоды.
- **static/**: Папка со статическими файлами.
  - `styles.css`: Стили для оформления веб-интерфейса.
  - `js/background.js`: Скрипты для анимации фона.

## Установка и запуск

### Предварительные требования

- **Python 3.11+**
- **pip** (менеджер пакетов Python)

### Шаги установки

1. **Клонируйте репозиторий**

2. **Создайте виртуальное окружение (опционально):**

    ```bash
    python -m venv venv
    source venv/bin/activate  # Для Linux/Mac
    ./venv/Scripts/activate    # Для Windows
    ```

3. **Установите необходимые зависимости:**

    ```bash
    pip install -r requirements.txt
    ```

4. **Настройте API-ключ:**

    - Получите API-ключ на [AccuWeather API](https://developer.accuweather.com/).
    - Откройте файл `settings.json` и вставьте ваш ключ:

      ```json
      {
          "API_KEY": "Ваш_API_KEY"
      }
      ```

5. **Запустите приложение:**

    ```bash
    python app.py
    ```

6. **Откройте браузер и перейдите по адресу:**

    ```
    http://127.0.0.1:5000/
    ```

## Использование

1. **Ввод маршрута:**
   - На главной странице введите начальную и конечную точки маршрута (названия городов).

   *Название городов не должно содержать цифр и специальных символов*   
   
2. **Получение результата:**
   - Нажмите кнопку "Получить Погоду".
   - На следующей странице отобразятся:
     - Оценка погодных условий.
     - Детальная информация о погоде в начальной и конечной точках маршрута.

    *Погода считается неблагоприятной, если температура ниже -10 или выше 35 градусов, и/или скорость ветра выше 35 км/ч, и/или вероятность дождя больше 85%*

3. **Обработка ошибок:**
   - В случае некорректного ввода или проблем с API, пользователю будут отображены соответствующие сообщения об ошибках.

## Обработка ошибок
1. **Неправильный формат ввода названия городов**
   - Если введены некорректные названия городов, приложение выведет сообщение об ошибке и предложит исправить ввод.
  
2. **Ошибка при получении данных от API**
   - Если возникает ошибка при получении данных от API, приложение выведет сообщение о том, что данные не получены.

3. **Ошибка при попытке найти город**
   - Если возникает ошибка при попытке найти город, приложение выведет сообщение о том, что город не найден.

4. **Крайние случаи с погодными условиями**
   - Все крайние случаи с погодными условиями обрабатываются корректно, никаких ошибок не возникает, характеристика погодных условий выводится корректно.

5. **Остальные случаи**
   - Во всех остальных случаях выводится конкретное сообщение с ошибкой в консоль, для пользователя выводится типизированное сообщение об ошибке, приложение **продолжает работать**.

## Лицензия

Этот проект лицензирован под лицензией MIT. Подробнее см. файл [LICENSE](LICENSE).

## Контакты

Если у вас есть вопросы или предложения, свяжитесь с [rykovanov.b@gmail.com](rykovanov.b@gmail.com).
